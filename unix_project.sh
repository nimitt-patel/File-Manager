introduction(){
		pwd=$(pwd)
		intro=1
		clear
		echo " |----------------------------------------------------------------------------------------------------------------------------------|"
		echo " |                                           LINUX PROJECT                                                                          |"
		echo " |----------------------------------------------------------------------------------------------------------------------------------|"
		echo " |----------Project Title :- File Manipulation.-------------------------------------------------------------------------------------|"
		echo " |----------Description :- In this project we will perform some basic operation on file like...-------------------------------------|"
		echo " |-------------1.create. 2.open. 3.read. 4.write. 5.delete. etc etc-----------------------------------------------------------------|"
		echo " |----------------------------------------------------------------------------------------------------------------------------------|"
		echo " |----------------------------------------------------------------------------------------------------------------------------------|"
		echo " |-----------------------------------------TEAM MEMBERS :---------------------------------------------------------------------------|"
		echo " |---------------------------------------IT5014 Nimitt Patel.-----------------------------------------------------------------------|" 
		echo " |---------------------------------------IT5015 Niket Jetwa.------------------------------------------------------------------------|" 
		echo " |---------------------------------------IT5016 Viraj Mali.-------------------------------------------------------------------------|" 
		echo " |----------------------------------------------------------------------------------------------------------------------------------|"
		clip=0
		op=('' Create Open Rename Move Copy Paste Delete Execute)

}
log(){
	#log will be generated the same place where this file has been stored
	(echo -n "${op[$mainoption]} ";echo -n " $(pwd)";echo -n "/$l_input ";echo $(date))  >> $pwd/fm.log
	#chmod -R 0444 fm.log
}

open(){
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	echo "-----------------------------------------Enter the name of file/Folder you want to open----------------------------------------------"					
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	read open_filename
	#echo $open_filename
	l_input="$open_filename"
	if [ -f "$open_filename" ]
	then
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-------------------------------------------Enter the application you want to choose--------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo -e "1.Gedit\n 2.Vi\n More applications will be furthur supported......."
		read open_option					
		case $open_option in 
			"1")
				echo "-----------------------------------------------Opening in gedit in 3...2..1.--------------------------------------------------------"
				gedit $open_filename 
				log
				;;
			"2")
				echo "Opening the file in 3...2..1."
				vi $open_filename
				log
				;;
			 * )  	echo "-------------------------------------------------------------------------------------------------------------------------------------"
		  	    	echo "---------------------------------------------YOU ARE PRESSING WRONG OPTION !!!!!!!!!!!-----------------------------------------------" 	
		 	     	echo "-------------------------------------------------------------------------------------------------------------------------------------";;
		esac
	
	elif [ -d "$open_filename" ]
	then
		log
		cd $open_filename
		#ls -l

	else
		echo "-------------------------------------------File/ folder doesnt exists----------------------------------------------"
	fi
	
}
yourin(){
echo "-------------------------------------------------------------------------------------------------------------------------------------"
echo "-------------------------------------------------Current Directory is:---------------------------------------------------------------"
pwd 
echo "-------------------------------------------------------------------------------------------------------------------------------------"
}
create(){
	echo "Enter any one Option:-"
	echo -e "1.File\n2.Folder\n"
	read cinput

		case $cinput in
		"1" ) 
				echo "-------------------------------------------------------------------------------------------------------------------------------------"
				echo "--------------------------------------------------Enter the file name:---------------------------------------------------------------"
				echo "-------------------------------------------------------------------------------------------------------------------------------------"
				read cinput_filename
				l_input="$cinput_filename"
				if [ -f "$cinput_filename" ]
				then
					echo "-------------------------------------------------------------------------------------------------------------------------------------"
					echo "-------------------------------------------------------File already exists------------------------------------------------------------"
					echo "-------------------------------------------------------------------------------------------------------------------------------------"
				else
					echo "-------------------------------------------------------------------------------------------------------------------------------------"
					echo "-----------------------------------------------Creating a file in 3...2..1.----------------------------------------------------------"
					echo "-------------------------------------------------------------------------------------------------------------------------------------"
					touch $cinput_filename
					log
				fi;;
				
		"2" ) 
			   	echo "-------------------------------------------------------------------------------------------------------------------------------------"
			     	echo "-------------------------------------------------Enter the folder name:--------------------------------------------------------------"
				echo "-------------------------------------------------------------------------------------------------------------------------------------"
				read cinput_filename
				echo "-------------------------------------------------------------------------------------------------------------------------------------"
				echo "-----------------------------------------------Creating a folder in 3...2..1."-------------------------------------------------------
				echo "-------------------------------------------------------------------------------------------------------------------------------------"
				mkdir $cinput_filename
				log;;

		* ) 	     echo "-------------------------------------------------------------------------------------------------------------------------------------"
		  	     echo "----------------------------------------YOU ARE PRESSING WRONG OPTION !!!!!!!!!!!-----------------------------------------------------" 	
		 	     echo "-------------------------------------------------------------------------------------------------------------------------------------";;
esac
}

rename(){
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	echo "------------------------------------Enter the name of file/folder you want to rename-------------------------------------------------"					
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	read re_oinput
	if [ -e "$re_oinput" ]
	then
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "--------------------------------------------------Enter the new name:----------------------------------------------------------------"
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		read re_ninput
		l_input="$re_ninput"
		mv $re_oinput $re_ninput
		log
		echo "---------------------------------------------Renaming a file/folder in 3...2..1.-----------------------------------------------------"
	else
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------File/folder doesnt exists------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	fi
		
}
copy(){
	#clip=0
	#usage of semaphores
	if [ $mv_flag == 1 ]
	then 
		cp_flag=0
	else
		cp_flag=1
	fi
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	echo "----------------------------------------Enter the name of file you want to move/copy-------------------------------------------------"				
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	read cp_input
	l_input="$cp_input"
	if [[ ( -f "$cp_input" ) && ( $clip == 0 ) ]]
	then
		cat $cp_input | xclip -selection clipboard
		clip=1
		log
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-------------------------------------File successfully copied to clipboard-----------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	elif [[ ( -f "$cp_input" ) && ( $clip == 1 ) ]]
	then
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "--------------------------------The clipboard not free please empty it and try again-------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	else
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-----------------------------------------------File doesnt exists--------------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	fi

}
paste(){
	if [[ ( $clip == 1 ) && ( $cp_flag == 1 ) ]]
	then
		l_input="$cp_input"
		log
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-------------------------------------------------Pasting File in 3...2..1------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		xclip -o -selection clipboard > $cp_input
		cp_flag=0
		clip=0
	elif [[ ( $clip == 1 ) && ( $mv_flag == 1 ) ]]
	then
		l_input="$cp_input"
		log
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-------------------------------------------------Moving  File in 3...2..1------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		xclip -o -selection clipboard > $cp_input
		rm $mv_filepath/$cp_input
		mv_flag=0
		clip=0
	else
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "-----------------------------------------------------Clipboard Empty-----------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	fi
	
}

back(){
	cd ../
}
move(){
	mv_flag=1
	mv_filepath=$(pwd)
	local copy="Move"
	copy
}
delete(){
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	echo "-------------------------------------------------Enter the file you want to delete---------------------------------------------------"
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	read d_input
	l_input="$d_input"
	if [ -e "$d_input" ]
	then
		log
		rm -R $d_input
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------Deleting in 3...2..1-----------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	else
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------File doesnt exists-------------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	fi
}
execute(){
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	echo "-------------------------------------------------Enter the file you want to execute--------------------------------------------------"
	echo "-------------------------------------------------------------------------------------------------------------------------------------"
	read ex_input
	l_input="$ex_input"
	if [ -f "$ex_input" ]
	then
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------Executing in 3...2..1----------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		log
		./$ex_input
	elif [ -d "$ex_input" ]
	then
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------$ex_input is a directory-------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	else
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		echo "------------------------------------------------File doesnt exists-------------------------------------------------------------------"					
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
	fi
	
}

	
main() {
	intro=1
	if [ $intro == 1 ]
	then
		introduction
		intro=0
	fi
	n=1
	while [ $n -ne 0 ]
	do	
		yourin
		ls 
		echo "-------------------------------------------------------------------------------------------------------------------------------------"	
		echo "---------------------------------------------------Enter any one Option:-------------------------------------------------------------"
		echo -e "1.Create\n2.Open\n3.Rename\n4.Move\n5.Copy\n6.Paste\n7.delete\n8.Execute\n9.Refresh\n10.back\n11.Exit"
		echo "-------------------------------------------------------------------------------------------------------------------------------------"
		read mainoption
		
		case $mainoption in
			"1" ) create
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;  
			"2" ) open 
 			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"3" ) rename 
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"4" ) move
 			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"5" ) copy 
 			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"6" ) paste 
 			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"7" ) delete
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"8" ) execute
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"9" ) refresh
			      reset
			      echo "-------------------------------------------------------------Refresing screen 3...2..1------------------------------------------------" ;;
			"10" ) back
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			"11" ) exit
			      echo "-------------------------------------------------------------------------------------------------------------------------------------" ;;
			 * )  n=0
			      echo "--------------------------------------------------------------------------------------------------------------------------------------"
		  	      echo "----------------------------------------------------YOU ARE PRESSING WRONG OPTION !!!!!!!!!!!-----------------------------------------" 	
		 	      echo "--------------------------------------------------------------------------------------------------------------------------------------";;	
		esac

	done


}
main
